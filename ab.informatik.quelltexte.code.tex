

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           Optionen           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pgfkeys{
	/absetup/.cd,
		quelltext/stil/.code = \usemintedstyle{#1},
		minted/.code = \setminted{#1},
}

\providecolor{ab.inf.quelltext.hg}{gray}{0.98}
\providecolor{ab.inf.quelltext.rand}{gray}{0.2}
\providecolor{ab.inf.quelltext.nummern}{gray}{0.25}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%            Pakete            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\PassOptionsToPackage{newfloat=true}{minted}
\RequirePackage{minted}
\RequirePackage{mdframed}

% \captionsetup[listing]{skip=2pt}

\setminted{
	autogobble,
	% escapeinside=§§, % Not recognized by minted/pygments
	numbers=left,
	tabsize=4,
	breaklines=true,
}
\nottoggle{ab@farbig}{%
	\usemintedstyle{bw}
}{%
	\usemintedstyle{colorful}
}
% Zeilennummern formatieren
\renewcommand{\theFancyVerbLine}{\sffamily\scriptsize\color{ab.inf.quelltext.nummern}\arabic{FancyVerbLine}\space}

% Rahmen um Quelltexte
\surroundwithmdframed[
	backgroundcolor=ab.inf.quelltext.hg,
	linecolor=ab.inf.quelltext.rand
]{minted}


%% Ref-Fromate für Quelltexte und Zeilen
\newrefformat{lst}{\hyperref[#1]{Listing\,\ref*{#1}}}
\newrefformat{line}{\hyperref[#1]{Zeile\,\ref*{#1}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%            Makros            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
